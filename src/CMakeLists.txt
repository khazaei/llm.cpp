file(GLOB_RECURSE SOURCE_LIST LIST_DIRECTORIES false CONFIGURE_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp)
file(GLOB_RECURSE HEADER_LIST LIST_DIRECTORIES false CONFIGURE_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/*.h)

add_library(source OBJECT)
target_sources(source PRIVATE ${SOURCE_LIST} PUBLIC ${HEADER_LIST})
target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/config)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/core)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/network)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/node)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/def)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/simulation)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/util)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/edge)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/phy)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/ip)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/transport)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/application)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/rrc)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/sdap)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/pdcp)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/rlc)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/mac)
#target_include_directories(source PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/kpi)
#target_link_libraries(source PRIVATE matplotlibcpp)
#target_link_libraries(source PRIVATE json)
#target_link_libraries(source PRIVATE blaze)
#target_link_libraries(source PRIVATE pffft)